{"id":"index.html","dependencies":[{"name":"./checkboxStyle.css","dynamic":true,"resolved":"/root/projects/two-client/checkboxStyle.css","parent":"/root/projects/two-client/index.html"},{"name":"_css_loader","parent":"/root/projects/two-client/index.html","resolved":"/root/projects/two-client/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/root/projects/two-client/package.json","includedInParent":true,"mtime":1588489497590}],"generated":{"html":"<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"https://cdn.webix.com/edge/webix.css\" type=\"text/css\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/ee4b7d0b70e299dd7512104f98d11c99.css\">\n    <script src=\"https://cdn.webix.com/edge/webix.js\" type=\"text/javascript\"></script>\n    <title>Document</title>\n</head>\n<style>div.container {\n        display: flex;\n        flex-direction: row;\n        flex-grow: 1;\n        align-items: center;\n        justify-content: flex-end;\n    }\n\n    div.canvasContainer {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n    }\n\n    div.innerContainer {\n        display: flex;\n        flex-direction: row;\n        flex-grow: 1;\n        align-items: center;\n        justify-content: flex-start;\n    }\n\n    div.subContainer {\n        display: flex;\n        flex-direction: column;\n        flex-grow: 1;\n        align-items: flex-start;\n        justify-content: center;\n    }\n\n    input.button1 {\n        display: inline-block;\n        padding: 0.35em 1.2em;\n        border: 0.1em solid rgb(51, 136, 233);\n        margin: 0 0.3em 0.3em 0;\n        border-radius: 0.12em;\n        box-sizing: border-box;\n        text-decoration: none;\n        font-family: 'Roboto', sans-serif;\n        font-weight: 300;\n        color: rgb(51, 136, 233);\n        width: 100px;\n        height: 40px;\n        text-align: center;\n        transition: all 0.2s;\n    }\n\n    input.button1:hover {\n        color: #FFFFFF;\n        background-color: rgb(88, 151, 223);\n    }\n\n    @media all and (max-width:30em) {\n        input.button1 {\n            display: block;\n            margin: 0.4em auto;\n        }\n    }</style>\n\n<body>\n\n    <div id=\"myDiv\" class=\"canvasContainer\">\n        <canvas id=\"myCanvas\" width=\"600\" height=\"400\" style=\"border:1px solid #000000;\"></canvas>\n    </div>\n\n    <script>function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar toBeRemoved = {};\n\nvar fetchRoles = function fetchRoles() {\n  webix.ajax(\"http://localhost:8000/all-roles\").then(function (data) {\n    console.log('webiux response select:', data.json().roles);\n    $$('roles_select').define(\"options\", data.json().roles);\n    $$('roles_select').refresh();\n  });\n};\n\nfetchRoles();\nvar c = document.getElementById(\"myCanvas\");\nvar ctx = c.getContext(\"2d\");\n\nvar _c$getBoundingClientR = c.getBoundingClientRect(),\n    width = _c$getBoundingClientR.width,\n    height = _c$getBoundingClientR.height;\n\nvar x = (width - 0.7 * width) / 2;\nvar y = (height - 0.7 * height) / 2;\nconsole.log(width, height);\nctx.fillStyle = 'green';\nctx.fillRect(x, y, 0.7 * width, 0.7 * height);\nwebix.ui({\n  cols: [{\n    rows: [{\n      view: \"toolbar\",\n      elements: [{\n        view: 'button',\n        label: 'Add User',\n        minHeight: 80,\n        click: function click(id, event) {\n          $$('user_form').clear();\n          $$('add_btn').config.value = 'Add';\n          $$('add_btn').refresh();\n        }\n      }, {\n        view: 'button',\n        label: 'Remove User',\n        minHeight: 80,\n        click: function click(id, event) {\n          var emails = [];\n\n          for (var key in toBeRemoved) {\n            if (toBeRemoved.hasOwnProperty(key)) {\n              emails.push(toBeRemoved[key]);\n            }\n          }\n\n          ;\n          webix.ajax().headers({\n            \"Content-type\": \"application/json\"\n          }).post(\"http://localhost:8000/remove-user\", {\n            emails: emails\n          }).then(function (data) {\n            console.log('api response remove user', data.json());\n            $$('user_list').load($$('user_list').config.url);\n          });\n        }\n      }]\n    }, {\n      view: \"list\",\n      id: 'user_list',\n      url: {\n        $proxy: true,\n        load: function load(view, params) {\n          $$('user_list').clearAll();\n          return webix.ajax(\"http://localhost:8000/all-users\").then(function (data) {\n            console.log('webiux response:', data.json().users);\n            return data.json().users;\n          });\n        }\n      },\n      template: \"<div class='container'>\\n                                <div class='innerContainer'>\\n                                    <label  class=\\\"checkbox-label\\\">\\n                                        <input  type=\\\"checkbox\\\">\\n                                        <span class=\\\"checkbox-custom rectangular\\\"></span>\\n                                    </label>\\n                                <div class='subContainer'>   \\n                                <span>#firstName# #lastName#</span>\\n                                <span>#roleName#</span>\\n                                </div>\\n                                </div>\\n                                <input type='button' class=\\\"button1\\\" value='Edit'/>\\n                                </div>\",\n      type: {\n        height: 'auto'\n      },\n      onClick: {\n        \"button1\": function button1(e, id, trg) {\n          // webix.message(\"Delete row: \" + id);\n          var item = this.getItem(id);\n          $$(\"user_form\").setValues(item);\n          $$('add_btn').config.value = 'Update';\n          $$('add_btn').refresh();\n          return false; // here it blocks the default behavior\n        },\n        \"checkbox-label\": function checkboxLabel(e, id, trg) {\n          if (!trg.children[0].checked) {\n            toBeRemoved[id] = this.getItem(id).emailId;\n          } else {\n            delete toBeRemoved[id];\n          }\n        }\n      },\n      data: [],\n      gravity: 1,\n      minHeight: 600\n    }],\n    gravity: 3\n  }, {\n    rows: [{\n      view: 'form',\n      id: 'user_form',\n      padding: 100,\n      elements: [{\n        view: \"text\",\n        label: \"First Name\",\n        name: \"firstName\",\n        invalidMessage: 'First name can not be empty',\n        placeholder: \"(e.g. John)\"\n      }, {\n        view: \"text\",\n        label: \"Last Name\",\n        name: \"lastName\",\n        placeholder: \"(e.g. Smith)\",\n        invalidMessage: 'Last name can not be empty'\n      }, {\n        view: \"text\",\n        label: \"Email\",\n        name: \"emailId\",\n        placeholder: \"(e.g. john@some.com)\",\n        invalidMessage: 'Email can not be empty'\n      }, {\n        view: \"select\",\n        id: 'roles_select',\n        label: \"Roles\",\n        value: 1,\n        options: [],\n        labelAlign: \"right\",\n        margin: 100,\n        name: 'role'\n      }, {\n        margin: 5,\n        cols: [{\n          view: \"button\",\n          id: 'add_btn',\n          value: \"Add\",\n          css: \"webix_primary\",\n          click: function click(id, event) {\n            // your code here\n            var isvalid = $$('user_form').validate();\n            console.log(\"check validation\", isvalid);\n\n            if (isvalid) {\n              var formData = $$('user_form').getValues();\n              webix.ajax().headers({\n                \"Content-type\": \"application/json\"\n              }).post(\"http://localhost:8000/add-user\", _objectSpread(_objectSpread({}, formData), {}, {\n                role: parseInt(formData.role)\n              })).then(function (data) {\n                console.log('api response', data);\n                webix.message(data.json().message);\n                clearList();\n              });\n            }\n          }\n        }, {\n          view: \"button\",\n          value: \"Clear\",\n          click: function click(id, event) {\n            // your code here\n            webix.message(\"Click on button clear \" + id);\n            $$('user_form').clear(); // \"Click on button btn1\"\n          }\n        }]\n      }],\n      rules: {\n        firstName: function firstName(value) {\n          return value && webix.rules.isNotEmpty(value);\n        },\n        lastName: function lastName(value) {\n          return value && webix.rules.isNotEmpty(value);\n        },\n        emailId: function emailId(value) {\n          return value && webix.rules.isEmail(value);\n        }\n      }\n    }, {\n      content: \"myDiv\"\n    }],\n    gravity: 5\n  }]\n});\n\nfunction clearList() {\n  var list = $$('user_list'); //  list.clear()\n\n  list.load(list.config.url);\n  list.refresh();\n  $$('user_form').clear();\n  $$('user_form').refresh();\n}</script>\n\n</body>\n\n</html>"},"sourceMaps":null,"error":null,"hash":"6a534848f8b1d12bb8a900274cd6db84","cacheData":{"env":{}}}